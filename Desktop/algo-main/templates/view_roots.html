<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ØºØ§Ø¨Ø© Ø§Ù„Ø¬Ø°ÙˆØ±</title>
    <style>
        body { font-family: 'Cairo', sans-serif; background: #f0fdf4; padding: 40px; text-align: right; }
        .tree-card { 
            background: white; border-radius: 25px; padding: 25px; margin-bottom: 20px;
            border-right: 12px solid #22c55e; box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            transition: 0.3s;
        }
        .tree-card:hover { transform: scale(1.01); }
        .fruit-badge { 
            background: #dcfce7; color: #15803d; padding: 8px 18px; 
            border-radius: 50px; margin: 5px; display: inline-block; 
            font-weight: bold; cursor: pointer; border: 2px solid transparent;
        }
        .fruit-badge:hover { background: #bbf7d0; border-color: #22c55e; }
        .back-link { text-decoration: none; color: #15803d; font-weight: bold; font-size: 1.2rem; }
    </style>
</head>
<body>
    <a href="/" class="back-link">â¬… Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ØºØ§Ø±Ø©</a>
    <h1 style="color: #166534; font-size: 2.5rem;">ğŸŒ³ ØºØ§Ø¨Ø© Ø§Ù„Ø¬Ø°ÙˆØ± Ø§Ù„Ø°ÙƒÙŠØ©</h1>
    <p>Ù‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„Ø¬Ø°ÙˆØ± Ø§Ù„ØªÙŠ Ø²Ø±Ø¹Ù†Ø§Ù‡Ø§ØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ù„Ø³Ù…Ø§Ø¹Ù‡Ø§!</p>

    {% for item in roots %}
    <div class="tree-card">
        <strong style="font-size: 1.6rem; color: #16a34a;">Ø¬Ø°Ø±: {{ item.root }}</strong>
        <div style="margin-top: 15px;">
            {% for word, freq in item.derivatives.items() %}
                <span class="fruit-badge" onclick="speak('{{ word }}')">ğŸ {{ word }} ({{ freq }})</span>
            {% else %}
                <span style="color: #94a3b8;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´ØªÙ‚Ø§Øª Ø¨Ø¹Ø¯...</span>
            {% endfor %}
        </div>
    </div>
    {% endfor %}

    <script>
        function speak(t) {
            const m = new SpeechSynthesisUtterance(t);
            m.lang = 'ar-SA';
            window.speechSynthesis.speak(m);
        }
    </script>
</body>
</html>